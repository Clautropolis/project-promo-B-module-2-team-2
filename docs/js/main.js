let e={field1:0,field2:"",field3:"",field4:"",field5:"",field6:"",field7:"",field8:"",photo:""};const S=document.querySelector(".js-form"),l=document.querySelector(".js-preview-title"),a=document.querySelector(".js-preview-date"),d=document.querySelector(".js-preview-price"),u=document.querySelector(".js-preview-location"),m=document.querySelector(".js-preview-web"),f=document.querySelector(".js-preview-sponsor");function q(){l.innerHTML=e.field4,a.innerHTML=e.field3,d.innerHTML=e.field1+"â‚¬",u.innerHTML=e.field2,m.innerHTML=e.field5,f.innerHTML=e.field6}function j(t){const n=t.target.id,i=t.target.value;e[n]=i,q()}S.addEventListener("input",j);const s=document.querySelector(".js-preview"),o=document.querySelector(".js-options");function _(){o.value==="gastronomy"?(s.classList.add("category__gastronomy"),s.classList.remove("category__music","category__cinema")):o.value==="music"?(s.classList.add("category__music"),s.classList.remove("category__cinema","category__gastronomy")):o.value==="cinema"&&(s.classList.add("category__cinema"),s.classList.remove("category__music","category__gastronomy")),e.field8=o.value}o.addEventListener("input",_);const T=document.querySelector(".js-titleDesign"),w=document.querySelector(".js-design"),M=document.querySelector(".js-titleFillin"),H=document.querySelector(".js-fillin"),E=document.querySelector(".js-titleShare"),g=document.querySelector(".js-share1"),y=document.querySelector(".js-share2");function F(){w.classList.toggle("hidden")}function k(){H.classList.toggle("hidden")}function D(){g.classList.toggle("hidden"),y.classList.toggle("hidden")}T.addEventListener("click",F);M.addEventListener("click",k);E.addEventListener("click",D);const I=document.querySelector(".js-reset"),b=document.querySelectorAll(".js-inputs");function A(){l.innerHTML="",a.innerHTML="",d.innerHTML="",u.innerHTML="",m.innerHTML="",f.innerHTML="",L.setAttribute("src",""),p.setAttribute("src","")}function C(){for(const t of b)t.value=""}function R(){s.classList.add("category"),s.classList.remove("category__music","category__cinema","category__gastronomy")}function Q(){o.value=""}function O(){h.classList.add("hidden"),y.classList.add("hidden")}function U(){e={field1:0,field2:"",field3:"",field4:"",field5:"",field6:"",field7:"",field8:"",photo:""}}function B(t){t.preventDefault(),A(),C(),R(),Q(),O(),U(),localStorage.removeItem("idTicket")}I.addEventListener("click",B);const r=new FileReader,c=new FileReader,J=document.querySelector(".js-image"),N=document.querySelector(".js-qr"),L=document.querySelector(".js-image-preview"),p=document.querySelector(".js-qr-preview");function v(t){const n=t.currentTarget.files[0],i=t.currentTarget.id;console.log(n),i==="photo"?(r.addEventListener("load",P),r.readAsDataURL(n)):i==="field7"&&(c.addEventListener("load",V),c.readAsDataURL(n))}function P(){L.src=r.result,e.photo=r.result}function V(){p.src=c.result,e.field7=c.result}J.addEventListener("change",v);N.addEventListener("change",v);const h=document.querySelector(".js-error-message"),x=document.querySelector(".js-created-message"),z=document.querySelector(".js-link-final-design"),G=document.querySelector(".js-social-media");function K(t){t.preventDefault(),console.log(e),fetch("https://dev.adalab.es/api/info/data",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then(n=>n.json()).then(n=>{console.log(n),n.success?(localStorage.setItem("idTicket",n.infoID),x.classList.remove("hidden"),z.classList.remove("hidden"),G.classList.remove("hidden"),console.log("holaaa")):(console.log("holaaa error"),h.classList.remove("hidden"))})}g.addEventListener("click",K);
//# sourceMappingURL=main.js.map
